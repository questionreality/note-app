(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),o=a.n(c),r=a(13),i=a.n(r),s=(a(122),a(21)),l=a(46),p=a(14),d=a(18),u=a.n(d),j=a(91),b=a(100),h=a(198),x={palette:{primary:{light:"#ffd37c",main:"#ffc85c",dark:"#b28c40",contrastText:"#000000"},secondary:{light:"#cc7777",main:"#c05555",dark:"#863b3b",contrastText:"#000"}},typography:{useNextVariants:!0},overrides:{}},O=a(5),m=a(9),g=a(186),f=a(206),v=a(102),y=a(187),w=a(199),C=a(190),k=a(184),N=a(200),S=a(64),F=a.n(S),I=a(185);function B(){return Object(n.jsxs)(v.a,{variant:"body2",color:"",align:"center",style:{color:"white"},children:["Copyright \xa9 ",Object(n.jsx)(k.a,{color:"inherit",href:"#",children:"Aesthetic-Notes"})," ",(new Date).getFullYear(),"."]})}var T=a(15),E=a.n(T),W=a(29),R="SET_AUTHENICATED",z="SET_USER",L="LOADING_USER",P="LOGOUT_USER",D="SET_ERRORS",_="LOADING_UI",A="CLEAR_ERRORS",U="STOP_LOADING_UI",H="SET_NOTES",M="SET_NOTE",G="DELETE_NOTE",V="POST_NOTE",Y=function(){var e=Object(W.a)(E.a.mark((function e(t){var a,n,c,o,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userData,n=t.history,c=t.route,(o=t.dispatch)({type:A}),o({type:_}),e.prev=3,e.next=6,u.a.post(c,a);case 6:r=e.sent,q(r.data.token),J(o),o({type:A}),n.push("/notes"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),o({type:D,payload:e.t0.response.data});case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(W.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:L}),e.prev=1,e.next=4,u.a.get("/users/me");case 4:a=e.sent,t({type:z,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),q=function(e){var t="Bearer ".concat(e);localStorage.setItem("token",t),u.a.defaults.headers.common.Authorization=t},K=function(){var e=Object(W.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/users/logout");case 3:delete u.a.defaults.headers.common.Authorization,localStorage.clear(),t({type:P}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(W.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/users/logoutAll");case 3:delete u.a.defaults.headers.common.Authorization,localStorage.clear(),t({type:P}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),X=function(){var e=Object(W.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:_}),e.prev=1,e.next=4,u.a.get("/notes?sortBy=createdAt:desc&limit=".concat(a.limit,"&skip=").concat(a.skip));case 4:n=e.sent,t({type:H,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:D,payload:[]});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(W.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:_}),e.prev=1,e.next=4,u.a.get("/notes/".concat(a));case 4:n=e.sent,t({type:M,payload:n.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t({SET_ERRORS:D,payload:{}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(W.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,a=t.data,n=t.id,e.prev=1,e.next=4,u.a.patch("/notes/".concat(n),a);case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(W.a)(E.a.mark((function e(t){var a,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=t.dispatch,e.prev=1,n({type:_}),e.next=5,u.a.post("/notes",a);case 5:c=e.sent,n({type:V,payload:c.data}),n({type:U}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(W.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a),e.next=4,u.a.delete("/notes/".concat(a));case 4:n=e.sent,t({type:G,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ae=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",color:"#eee",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ne(e){var t=ae(),a=Object(c.useContext)(Ze),o=(a.state,a.dispatch),r=Object(c.useState)({name:"",email:"",password:""}),i=Object(s.a)(r,2),l=i[0],p=i[1],d=function(e){p(Object(m.a)(Object(m.a)({},l),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(f.a,{className:t.avatar,children:Object(n.jsx)(F.a,{style:{fill:"#222"}})}),Object(n.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a={name:l.name,email:l.email,password:l.password};Y({userData:a,route:"/users",history:e.history,dispatch:o})},children:[Object(n.jsxs)(y.a,{container:!0,spacing:4,children:[Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{id:"name",name:"name",type:"name",label:"Name",className:t.textField,value:l.name,onChange:d,fullWidth:!0,InputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}})}),Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{id:"email",name:"email",type:"email",label:"Email",className:t.textField,value:l.email,onChange:d,fullWidth:!0,InputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}})}),Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,value:l.password,onChange:d,fullWidth:!0,InputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}})})]}),Object(n.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(n.jsx)(y.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(y.a,{item:!0,children:Object(n.jsx)(k.a,{href:"/login",variant:"body2",children:"Already have an account? Log in"})})})]})]}),Object(n.jsx)(N.a,{mt:5,children:Object(n.jsx)(B,{})})]})}var ce=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(8),color:"#eee",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(6)},submit:{margin:e.spacing(3,0,2)}}}));function oe(e){var t=ce(),a=Object(c.useContext)(Ze),o=(a.state,a.dispatch),r=Object(c.useState)({email:null,password:null}),i=Object(s.a)(r,2),l=i[0],p=i[1],d=function(e){p(Object(m.a)(Object(m.a)({},l),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(f.a,{className:t.avatar,children:Object(n.jsx)(F.a,{style:{fill:"#222"}})}),Object(n.jsx)(v.a,{component:"h1",variant:"h5",children:"Login"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a={email:l.email,password:l.password};Y({userData:a,route:"/users/login",history:e.history,dispatch:o})},children:[Object(n.jsxs)(y.a,{container:!0,spacing:4,children:[Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{id:"email",name:"email",type:"email",label:"Email",className:t.textField,value:l.email,onChange:d,fullWidth:!0,InputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}})}),Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,value:l.password,onChange:d,fullWidth:!0,InputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}})})]}),Object(n.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Login"}),Object(n.jsx)(y.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(y.a,{item:!0,children:Object(n.jsx)(k.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign up"})})})]})]}),Object(n.jsx)(N.a,{mt:5,children:Object(n.jsx)(B,{})})]})}var re=a(148),ie=a(207),se=a(4),le=Object(I.a)((function(e){var t,a,n;return{paper:(t={margin:"16px auto",color:e.palette.text.secondary,overflow:"hidden",backgroundColor:"#FFF"},Object(O.a)(t,"color","#222"),Object(O.a)(t,"fontFamily","Courier, monospace"),Object(O.a)(t,"fontWeight","normal"),Object(O.a)(t,"fontSize","24px"),Object(O.a)(t,"resize","none"),Object(O.a)(t,"lineHeight","42px"),Object(O.a)(t,"paddingLeft","100px"),Object(O.a)(t,"paddingRight","50px"),Object(O.a)(t,"paddingTop","30px"),Object(O.a)(t,"paddingBottom","34px"),Object(O.a)(t,"backgroundImage","url(https://static.tumblr.com/maopbtg/E9Bmgtoht/lines.png), url(https://static.tumblr.com/maopbtg/nBUmgtogx/paper.png)"),Object(O.a)(t,"backgroundRepeat","repeat-y, repeat"),Object(O.a)(t,"WebkitBorderRadius","12px"),Object(O.a)(t,"borderRadius","12px"),Object(O.a)(t,"WebkitBoxShadow","0px 2px 14px #000"),Object(O.a)(t,"boxShadow","0px 2px 14px #000"),Object(O.a)(t,"borderTop","1px solid #FFF"),Object(O.a)(t,"borderBottom","1px solid #FFF"),Object(O.a)(t,"maxWidth","550px"),t),title:{"& .MuiInputBase-input":(a={color:"#222",overflow:"hidden",fontFamily:"Courier, monospace",fontWeight:"normal",fontSize:"24px",resize:"none",lineHeight:"42px"},Object(O.a)(a,"fontSize","36px"),Object(O.a)(a,"marginBottom","30px"),Object(O.a)(a,"marginTop","10px"),a)},description:{"& .MuiInputBase-input":(n={color:e.palette.text.secondary,overflow:"hidden",fontFamily:"Courier, monospace",fontWeight:"normal",fontSize:"24px",resize:"none",lineHeight:"42px"},Object(O.a)(n,"fontSize","24px"),Object(O.a)(n,"lineHeight","40px"),n)},menuItem:{whiteSpace:"normal"}}}));var pe=function(e){console.log(e);var t=le(),a=Object(c.useContext)(Ze),o=a.state,r=a.dispatch,i=Object(c.useState)({title:"",description:""}),l=Object(s.a)(i,2),p=l[0],d=l[1],u=e.match.params.id;Object(c.useEffect)((function(){Z(r,u)}),[r,u]),Object(c.useEffect)((function(){o.note&&d(o.note)}),[o.note,d]);var j=function(e){e&&e.preventDefault(),console.log("handleSubmit"),null!==o.note&&$({dispatch:r,id:u,data:{title:p.title,description:p.description}})};Object(c.useEffect)((function(){var t=e.history.listen((function(){j()}));return window.addEventListener("beforeunload",j),function(){t(),window.removeEventListener("beforeunload",j)}}),[j]);var b=function(e){d(Object(m.a)(Object(m.a)({},p),{},Object(O.a)({},e.target.name,e.target.value))),console.log(p)};return p?Object(n.jsx)("div",{children:Object(n.jsx)(re.a,{className:t.paper,elevation:3,children:Object(n.jsx)(y.a,{container:!0,children:Object(n.jsxs)("form",{noValidate:!0,onSubmit:j,children:[Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(ie.a,{value:p.title,name:"title",fullWidth:!0,onChange:b,className:Object(se.a)(t.root,t.title),multiline:!0})}),Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(ie.a,{value:p.description,name:"description",multiline:!0,fullWidth:!0,onChange:b,className:Object(se.a)(t.root,t.description)})})]})})})}):Object(n.jsx)(n.Fragment,{children:"Loading"})},de=a(205),ue=a(201),je=a(203),be=a(191),he=function(e){var t=e.children,a=e.onClick,c=e.tip,o=e.btnClassName,r=e.tipClassName;return Object(n.jsx)(je.a,{title:c,placement:"bottom",className:r,children:Object(n.jsx)(be.a,{onClick:a,className:o,color:"inherit",children:t})})},xe=a(204),Oe=a(192),me=a(193),ge=a(96),fe=a.n(ge),ve=Object(I.a)((function(e){return{delete:{position:"absolute",left:"85%"}}})),ye=function(e){var t=Object(c.useContext)(Ze),a=(t.state,t.dispatch),o=Object(c.useState)(!1),r=Object(s.a)(o,2),i=r[0],l=r[1],p=function(){l(!1)},d=ve();return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(he,{onClick:function(){l(!0)},tip:"Delete Note",tipClassName:d.delete,children:Object(n.jsx)(fe.a,{color:"secondary"})}),Object(n.jsxs)(xe.a,{open:i,onClose:p,fullWidth:!0,maxWidth:"sm",children:[Object(n.jsx)(Oe.a,{children:"Are you sure you want to delete this note?"}),Object(n.jsxs)(me.a,{children:[Object(n.jsx)(C.a,{onClick:p,color:"primary",children:"Cancel"}),Object(n.jsx)(C.a,{onClick:function(){te(a,e.noteId),l(!1)},color:"secondary",children:"Delete"})]})]})]})},we=Object(I.a)((function(e){var t;return{paper:(t={margin:e.spacing(2),color:e.palette.text.secondary,overflow:"hidden",backgroundColor:"#FFF"},Object(O.a)(t,"color","#222"),Object(O.a)(t,"fontFamily","Courier, monospace"),Object(O.a)(t,"fontWeight","normal"),Object(O.a)(t,"fontSize","24px"),Object(O.a)(t,"resize","none"),Object(O.a)(t,"lineHeight","42px"),Object(O.a)(t,"paddingLeft","100px"),Object(O.a)(t,"paddingRight","50px"),Object(O.a)(t,"paddingTop","50px"),Object(O.a)(t,"paddingBottom","34px"),Object(O.a)(t,"backgroundImage","url(https://static.tumblr.com/maopbtg/E9Bmgtoht/lines.png), url(https://static.tumblr.com/maopbtg/nBUmgtogx/paper.png)"),Object(O.a)(t,"backgroundRepeat","repeat-y, repeat"),Object(O.a)(t,"WebkitBorderRadius","12px"),Object(O.a)(t,"borderRadius","12px"),Object(O.a)(t,"WebkitBoxShadow","0px 2px 14px #000"),Object(O.a)(t,"boxShadow","0px 2px 14px #000"),Object(O.a)(t,"borderTop","1px solid #FFF"),Object(O.a)(t,"borderBottom","1px solid #FFF"),t),title:{fontSize:"36px",marginBottom:"40px"},description:{fontSize:"24px",lineHeight:"40px"},menuItem:{whiteSpace:"normal"}}}));function Ce(e){var t=e.data,a=we(),o={pathname:"/notes/".concat(t._id),param1:t},r=Object(c.useContext)(Ze);r.state,r.dispatch;return Object(n.jsx)(y.a,{item:!0,xs:12,sm:6,lg:4,children:Object(n.jsxs)("div",{style:{position:"relative"},children:[Object(n.jsx)(ye,{noteId:t._id}),Object(n.jsx)(l.b,{to:o,style:{color:"inherit",textDecoration:"inherit"},children:Object(n.jsxs)(re.a,{className:a.paper,elevation:3,children:[Object(n.jsx)(v.a,{variant:"inherit",color:"textPrimary",component:"p",className:a.title,style:{overflow:"hidden",resize:"none",whiteSpace:"nowrap"},children:t.title}),Object(n.jsx)(v.a,{variant:"inherit",color:"textSecondary",component:"p",style:{overflow:"hidden",wordWrap:"break-word",resize:"none",height:"120px"},className:a.description,children:t.description})]})})]})})}var ke=Object(I.a)((function(e){return{root:{"& .MuiPaginationItem-root":{color:"white"}},selected:{color:"white"},center:{justifyContent:"center"}}}));var Ne=function(){var e=ke(),t=Object(c.useContext)(Ze),a=t.state,o=t.dispatch,r=Object(c.useState)({limit:6,skip:0}),i=Object(s.a)(r,2),l=i[0],p=i[1],d=Object(c.useState)(1),u=Object(s.a)(d,2),j=u[0],b=u[1];Object(c.useEffect)((function(){X(o,{limit:6,skip:0})}),[]),Object(c.useEffect)((function(){X(o,l),console.log("useEffect notes triggered")}),[l,o]);var h=null===a.maxNumberOfPages?null:Object(n.jsx)(de.a,{count:a.maxNumberOfPages,page:j,onChange:function(e,t){b(t),p({limit:6*t,skip:6*(t-1)})},shape:"rounded",color:"primary",classes:{ul:e.center},renderItem:function(t){return Object(n.jsx)(ue.a,Object(m.a)(Object(m.a)({},t),{},{classes:{root:e.selected}}))}});return console.log(a),!0===a.loading?Object(n.jsx)("div",{children:"Loading..."}):Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(y.a,{container:!0,spacing:2,children:a.notes&&a.notes.map((function(e){return Object(n.jsx)(Ce,{data:e},e._id)}))})}),h]})};var Se=function(e){var t=Object(c.useContext)(Ze),a=(t.user,t.dispatch);return console.log("here"),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",width:"25%",alignItems:"center",margin:"0px auto",minWidth:"300px"},children:[Object(n.jsx)(C.a,{variant:"contained",color:"secondary",fullWidth:!0,style:{margin:"50px 0px"},onClick:function(){return K(a,e.history)},children:"Log Out"}),Object(n.jsx)(C.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return Q(a,e.history)},children:"Log Out All Devices"})]})},Fe=a(101),Ie=function(e){var t=e.component,a=e.routeType,o=Object(Fe.a)(e,["component","routeType"]),r=Object(c.useContext)(Ze),i=r.state;r.dispatch;return Object(n.jsx)(p.b,Object(m.a)(Object(m.a)({},o),{},{render:function(e){return!0===i.authenticated&&"auth"===a?Object(n.jsx)(p.a,{to:"/notes"}):!1===i.authenticated&&"private"===a?Object(n.jsx)(p.a,{to:"/login"}):Object(n.jsx)(t,Object(m.a)({},e))}}))},Be=a(194),Te=a(195),Ee=a(97),We=a.n(Ee),Re=a(98),ze=a.n(Re),Le=Object(I.a)((function(e){var t,a,n;return{paper:(t={color:e.palette.text.secondary,overflow:"hidden",backgroundColor:"#FFF"},Object(O.a)(t,"color","#222"),Object(O.a)(t,"fontFamily","Courier, monospace"),Object(O.a)(t,"fontWeight","normal"),Object(O.a)(t,"fontSize","24px"),Object(O.a)(t,"resize","none"),Object(O.a)(t,"lineHeight","42px"),Object(O.a)(t,"paddingLeft","100px"),Object(O.a)(t,"paddingRight","50px"),Object(O.a)(t,"paddingTop","30px"),Object(O.a)(t,"paddingBottom","34px"),Object(O.a)(t,"backgroundImage","url(https://static.tumblr.com/maopbtg/E9Bmgtoht/lines.png), url(https://static.tumblr.com/maopbtg/nBUmgtogx/paper.png)"),Object(O.a)(t,"backgroundRepeat","repeat-y, repeat"),Object(O.a)(t,"WebkitBorderRadius","12px"),Object(O.a)(t,"borderRadius","12px"),Object(O.a)(t,"WebkitBoxShadow","0px 2px 14px #000"),Object(O.a)(t,"boxShadow","0px 2px 14px #000"),Object(O.a)(t,"borderTop","1px solid #FFF"),Object(O.a)(t,"borderBottom","1px solid #FFF"),Object(O.a)(t,"maxWidth","550px"),t),submitButton:{position:"relative",float:"right",marginTop:10},progressSpinner:{position:"absolute"},closeButton:{position:"absolute",left:"85%"},dialogContent:{padding:"0px","&:first-child":{padding:"0px"}},dialog:{"& .MuiPaper-rounded":{borderRadius:"20px"}},title:{"& .MuiInputBase-input":(a={color:"#222",overflow:"hidden",fontFamily:"Courier, monospace",fontWeight:"normal",fontSize:"24px",resize:"none",lineHeight:"42px"},Object(O.a)(a,"fontSize","36px"),Object(O.a)(a,"marginBottom","30px"),Object(O.a)(a,"marginTop","10px"),a)},description:{"& .MuiInputBase-input":(n={color:e.palette.text.secondary,overflow:"hidden",fontFamily:"Courier, monospace",fontWeight:"normal",fontSize:"24px",resize:"none",lineHeight:"42px"},Object(O.a)(n,"fontSize","24px"),Object(O.a)(n,"lineHeight","40px"),n)}}}));var Pe=function(e){var t=Object(c.useState)({open:!1,title:"",description:"",errors:""}),a=Object(s.a)(t,2),o=a[0],r=a[1],i=Le(),l=Object(c.useContext)(Ze),p=l.state,d=l.dispatch,u=function(){r({open:!1,errors:{},title:"",body:""})},j=function(e){r(Object(m.a)(Object(m.a)({},o),{},Object(O.a)({},e.target.name,e.target.value)))},b=function(e){e.preventDefault();var t={title:o.title,description:o.description};console.log(t),ee({data:t,dispatch:d}),p.loading||u()};return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(he,{onClick:function(){r(Object(m.a)(Object(m.a)({},o),{},{open:!0}))},tip:"Create new note",children:Object(n.jsx)(We.a,{})}),Object(n.jsxs)(xe.a,{open:o.open,onClose:u,"aria-labelledby":"responsive-dialog-title",scroll:"paper",className:i.dialog,children:[Object(n.jsx)(he,{tip:"Close",onClick:u,tipClassName:i.closeButton,children:Object(n.jsx)(ze.a,{})}),Object(n.jsxs)(Be.a,{className:i.dialogContent,children:[Object(n.jsx)(re.a,{className:i.paper,elevation:3,children:Object(n.jsx)(y.a,{container:!0,children:Object(n.jsxs)("form",{noValidate:!0,onSubmit:b,children:[Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(ie.a,{value:p.title,name:"title",fullWidth:!0,placeholder:"title of your note",onChange:j,className:Object(se.a)(i.root,i.title),multiline:!0})}),Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(ie.a,{value:o.description,name:"description",multiline:!0,fullWidth:!0,placeholder:"body of your note",onChange:j,className:Object(se.a)(i.root,i.description)})}),Object(n.jsxs)(C.a,{type:"submit",variant:"contained",color:"primary",className:i.submitButton,onClick:b,disabled:p.loading,children:["Submit",p.loading&&Object(n.jsx)(Te.a,{size:30,className:i.progressSpinner})]})]})})})," "]})]})]})},De=a(196),_e=a(197),Ae=a(99),Ue=a.n(Ae),He=a(19),Me=a(72),Ge=a.n(Me),Ve=a(73),Ye=a.n(Ve),Je=Object(I.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(O.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(He.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(He.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}}));var qe=Object(p.g)((function(e){var t=Je();console.log("navbar",e.location.pathname);var a=e.location.pathname;return"/notes"===a?Object(n.jsx)("div",{className:t.grow,children:Object(n.jsx)(De.a,{position:"static",children:Object(n.jsxs)(_e.a,{children:[Object(n.jsx)(Pe,{}),Object(n.jsxs)("div",{className:t.search,children:[Object(n.jsx)("div",{className:t.searchIcon,children:Object(n.jsx)(Ue.a,{})}),Object(n.jsx)(ie.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},fullWidth:!0})]}),Object(n.jsx)(he,{tipClassName:t.menuButton,tip:"Your profile",onClick:function(){return e.history.push("/user")},children:Object(n.jsx)(Ge.a,{})}),Object(n.jsx)("div",{className:t.grow})]})})}):a.match(/notes\/.+/)?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:t.grow,children:Object(n.jsx)(De.a,{position:"static",children:Object(n.jsxs)(_e.a,{children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[Object(n.jsx)(he,{tipClassName:t.menuButton,tip:"Back",onClick:function(){return e.history.push("/notes")},children:Object(n.jsx)(Ye.a,{})}),Object(n.jsx)(he,{tipClassName:t.menuButton,tip:"Your profile",onClick:function(){return e.history.push("/user")},children:Object(n.jsx)(Ge.a,{})})]}),Object(n.jsx)("div",{className:t.grow})]})})})}):Object(n.jsx)("div",{className:t.grow,children:Object(n.jsx)(De.a,{position:"static",children:Object(n.jsxs)(_e.a,{children:[Object(n.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:Object(n.jsx)(he,{tipClassName:t.menuButton,tip:"Back",onClick:function(){return e.history.push("/notes")},children:Object(n.jsx)(Ye.a,{})})}),Object(n.jsx)("div",{className:t.grow})]})})})})),Ke=a(74),Qe=function(e,t){switch(t.type){case H:return Object(m.a)(Object(m.a)({},e),{},{notes:t.payload,loading:!1});case M:return Object(m.a)(Object(m.a)({},e),{},{note:t.payload,loading:!1});case V:return Object(m.a)(Object(m.a)({},e),{},{notes:[t.payload].concat(Object(Ke.a)(e.notes))});case G:var a=e.notes.findIndex((function(e){return e._id===t.payload._id})),n=e.notes.slice();return n.splice(a,1),Object(m.a)(Object(m.a)({},e),{},{notes:Object(Ke.a)(n)});case D:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,errors:t.payload});case A:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,errors:null});case _:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case U:return Object(m.a)(Object(m.a)({},e),{},{loading:!1});case R:return Object(m.a)(Object(m.a)({},e),{},{authenticated:!0});case z:var c=Math.ceil(t.payload.noteCount/6);return c||(c=0),{authenticated:!0,loading:!1,user:t.payload,maxNumberOfPages:c};case P:return{notes:[],note:{},loading:!1,user:{},authenticated:!1,maxNumberOfPages:null};case L:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});default:return e}},Xe=Object(b.a)(x),Ze=o.a.createContext();u.a.defaults.baseURL="http://varma-task-app.herokuapp.com/";var $e={notes:[],note:{},loading:!1,user:{},authenticated:!1,maxNumberOfPages:null};function et(){var e=Object(c.useReducer)(Qe,$e),t=Object(s.a)(e,2),a=t[0],o=t[1],r=localStorage.getItem("token");r&&(1e3*Object(j.a)(r).exp<Date.now()?(window.location.href="".concat(window.location.origin,"/login"),o(K())):!1===a.authenticated&&(o({type:R}),u.a.defaults.headers.common.Authorization=r,J(o)));var i=!0===a.authenticated?Object(n.jsx)(qe,{}):null;return Object(n.jsx)(h.a,{theme:Xe,children:Object(n.jsx)(Ze.Provider,{value:{state:a,dispatch:o},children:Object(n.jsxs)(l.a,{children:[i,Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.b,{exact:!0,path:"/",children:a.authenticated?Object(n.jsx)(p.a,{to:"/notes"}):Object(n.jsx)(p.a,{to:"/signup"})}),Object(n.jsx)(Ie,{exact:!0,path:"/login",component:oe,routeType:"auth"}),Object(n.jsx)(Ie,{exact:!0,path:"/signup",component:ne,routeType:"auth"}),Object(n.jsx)(Ie,{exact:!0,path:"/notes",component:Ne,routeType:"private"}),Object(n.jsx)(Ie,{exact:!0,path:"/notes/:id",component:pe,routeType:"private"}),Object(n.jsx)(Ie,{exact:!0,path:"/user",component:Se,routeType:"private"})]})]})})})}i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(et,{})}),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.3ca36925.chunk.js.map